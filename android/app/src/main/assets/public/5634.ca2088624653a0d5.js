"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5634],{5634:(Z,m,s)=>{s.r(m),s.d(m,{StatementsReportPageModule:()=>R});var c=s(9808),d=s(4182),o=s(8779),p=s(1493),f=s(655),g=s(7706),u=s(2993),t=s(2096),_=s(7913),h=s(649),v=s(9709);function S(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"ion-datetime",12),t.NdJ("ionChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.onDateFromSelect(i))}),t.qZA()}}function y(e,l){if(1&e){const n=t.EpF();t.TgZ(0,"ion-datetime",12),t.NdJ("ionChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.onDateToSelect(i))}),t.qZA()}}const P=[{path:"",component:(()=>{class e{constructor(n,a,i,r){this.routerOutlet=n,this.util=a,this.toastService=i,this.userService=r,this.customPopoverOptions={message:"Select one",cssClass:"popover-in-modal"},this.date_from_active=!1,this.date_to_active=!1}ngOnInit(){}toggleDateFrom(){this.date_from_active=!this.date_from_active,this.date_to_active=!1}toggleDateTo(){this.date_to_active=!this.date_to_active,this.date_from_active=!1}onDateFromSelect(n){this.date_from=(0,g.Z)((0,u.Z)(n.detail.value),"yyyy/dd/mm"),this.date_from_active=!1}onDateToSelect(n){this.date_to=(0,g.Z)((0,u.Z)(n.detail.value),"yyyy/dd/mm"),this.date_to_active=!1}getReport(){return(0,f.mG)(this,void 0,void 0,function*(){const n={start_from:this.date_from,end_at:this.date_to},a=yield this.util.loader("Preparing");a.present();const i=yield this.userService.getStatement(n);a.dismiss(),i.result?i.result.data.error?this.toastService.presentToast("Error","top","danger",i.result.data.message,2e3):this.toastService.presentToast("Success","top","success","The account statement has been sent to your email. It may take 5 minutes to arrive.",4e3):this.toastService.presentToast("Error","top","danger","Unable to get your account statement at this time, try again later",2e3)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(o.jP),t.Y36(_.t),t.Y36(h.k),t.Y36(v.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-statements-report"]],decls:28,vars:6,consts:[["collapse","fade",3,"translucent"],["slot","start"],["text","Settings","defaultHref","/settings"],[3,"fullscreen"],[1,"ion-padding"],[1,"ion-list-header-small"],["lines","full",1,"list-custom"],["readonly","","slot","end","type","text","placeholder","Date from",1,"ion-text-right","ion-no-padding-end",3,"ngModel","click","ngModelChange"],["class","animate__animated animate__fadeIn","color","primary","locale","en-EN","size","cover","showDefaultButtons","false","presentation","date",3,"ionChange",4,"ngIf"],["readonly","","slot","end","type","text","placeholder","Date to",1,"ion-text-right","ion-no-padding-end",3,"ngModel","click","ngModelChange"],["collapse","fade",1,"modal-footer"],["type","submit","expand","block","color","primary",3,"click"],["color","primary","locale","en-EN","size","cover","showDefaultButtons","false","presentation","date",1,"animate__animated","animate__fadeIn",3,"ionChange"]],template:function(n,a){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," Statements "),t.qZA()()(),t.TgZ(6,"ion-content",3)(7,"div",4)(8,"ion-list-header",5)(9,"ion-label"),t._uU(10,"Choose a time frame for your statement"),t.qZA()(),t.TgZ(11,"ion-list",6)(12,"ion-item")(13,"ion-label")(14,"p"),t._uU(15,"Pick start date"),t.qZA()(),t.TgZ(16,"ion-input",7),t.NdJ("click",function(){return a.toggleDateFrom()})("ngModelChange",function(r){return a.date_from=r}),t.qZA()(),t.YNc(17,S,1,0,"ion-datetime",8),t.TgZ(18,"ion-item")(19,"ion-label")(20,"p"),t._uU(21,"Pick end date"),t.qZA()(),t.TgZ(22,"ion-input",9),t.NdJ("click",function(){return a.toggleDateTo()})("ngModelChange",function(r){return a.date_to=r}),t.qZA()(),t.YNc(23,y,1,0,"ion-datetime",8),t.qZA()()(),t.TgZ(24,"ion-footer",10)(25,"ion-toolbar")(26,"ion-button",11),t.NdJ("click",function(){return a.getReport()}),t._uU(27," Get statement "),t.qZA()()()),2&n&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(10),t.Q6J("ngModel",a.date_from),t.xp6(1),t.Q6J("ngIf",a.date_from_active),t.xp6(5),t.Q6J("ngModel",a.date_to),t.xp6(1),t.Q6J("ngIf",a.date_to_active))},dependencies:[c.O5,d.JJ,d.On,o.oU,o.YG,o.Sm,o.W2,o.x4,o.fr,o.Gu,o.pK,o.Ie,o.Q$,o.q_,o.yh,o.wd,o.sr,o.QI,o.j9,o.cs],styles:["ion-datetime[_ngcontent-%COMP%]{margin:20px auto;border-radius:20px}[_nghost-%COMP%]   .datetime-time[_ngcontent-%COMP%]{display:none}ion-list[_ngcontent-%COMP%]{background:transparent!important}ion-item[_ngcontent-%COMP%]{margin-top:20px;--padding-top:10px;--padding-bottom:10px;--border-radius:8px !important}ion-button[_ngcontent-%COMP%]{width:95%;margin:30px auto}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(P),p.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,d.u5,o.Pc,T]}),e})()}}]);