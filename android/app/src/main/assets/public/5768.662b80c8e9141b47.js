"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5768,1228],{5768:(Z,c,i)=>{i.r(c),i.d(c,{SignupPageModule:()=>Q});var p=i(9808),t=i(4182),a=i(8779),g=i(1493),d=i(655),e=i(2096),f=i(1228),m=i(9244),_=i(649),l=i(7913);function h(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Firstname is required."),e.qZA()())}function v(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Lastname is required."),e.qZA()())}function P(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Email is required."),e.qZA()())}function T(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Invalid Email."),e.qZA()())}function S(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Username is required."),e.qZA()())}function U(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Username cannot be less than 4 characters."),e.qZA()())}function q(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Username cannot contain special characters."),e.qZA()())}function A(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Username cannot contain white space."),e.qZA()())}function I(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"phone number is required."),e.qZA()())}function x(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Phone number is invalid ."),e.qZA()())}function y(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Phone number is invalid ."),e.qZA()())}function w(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Password is required."),e.qZA()())}function Y(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Password is too short ."),e.qZA()())}function C(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Password is too weak."),e.qZA()())}function N(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Confirm password please."),e.qZA()())}function E(r,s){1&r&&(e.TgZ(0,"ion-text",22)(1,"small",23),e._uU(2,"Password does not match."),e.qZA()())}const J=[{path:"",component:(()=>{class r{constructor(n,o,u,k,O,b,L){this.authService=n,this.dataService=o,this.formBuilder=u,this.toastService=k,this.router=O,this.util=b,this.auth=L,this.current_year=(new Date).getFullYear(),this.error=!1,this.submit_attempt=!1}ngOnInit(){console.log(this.containsSpecialChars("tolulope")),console.log(this.containsSpecialChars("tolu@lope")),console.log(this.containsSpecialChars("tolu)lope")),this.signup_form=this.formBuilder.group({firstname:["",t.kI.compose([t.kI.required])],lastname:["",t.kI.compose([t.kI.required])],username:["",t.kI.compose([t.kI.required,t.kI.minLength(4)])],referral_code:[""],phone:["",t.kI.compose([t.kI.minLength(11),t.kI.maxLength(11),t.kI.required])],email:["",t.kI.compose([t.kI.email,t.kI.required])],password:["",t.kI.compose([t.kI.minLength(6),t.kI.required])],password_confirmation:["",t.kI.compose([t.kI.minLength(6),t.kI.required])]})}containsSpecialChars(n){const u=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(n);return this.error=!!u,u}passwordStrength(n){const u=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(n);return this.error=!u,u}passwordMatch(n){return this.signup_form.value.password===n?(this.error=!1,!0):(this.error=!0,!1)}hasWhiteSpace(n){const u=/\s/.test(n);return this.error=!!u,u}signUp(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.submit_attempt=!0,""==this.signup_form.value.email||""==this.signup_form.value.password||""==this.signup_form.value.password_confirmation)this.toastService.presentToast("Error","Please fill in all fields","top","danger",4e3);else if(this.signup_form.value.password!=this.signup_form.value.password_confirmation)this.toastService.presentToast("Error","Passwords must match","top","danger",4e3);else{this.signup_form.value.gender="male";const n=yield this.util.loader("Signing up");n.present();const o=yield this.auth.signUp(this.signup_form.value);if(console.log({response:o.result}),!o.result)return n.dismiss(),this.toastService.presentToast("Registration Error","top","danger","",4e3);if(o.result&&200==o.result.status&&!o.result.data.error)this.util.storeItem("accessToken",o.result.data.data.access_token),yield this.dataService.commitAllData(),this.toastService.presentToast("Welcome!","top","success","",4e3),n.dismiss(),yield this.router.navigate(["/home"]);else{n.dismiss();const u=JSON.parse(o.result.data.data);console.log({errorMsg:u}),this.toastService.presentToast(u.email?u.email:u.username?u.username:"Registration Error","top","danger","",4e3)}n.dismiss()}})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(f.e),e.Y36(m.D),e.Y36(t.qu),e.Y36(_.k),e.Y36(g.F0),e.Y36(l.t),e.Y36(f.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-signup"]],decls:67,vars:19,consts:[[1,"ion-no-border"],["slot","start"],["text","Sign in","defaultHref","/signin"],[1,"ion-padding"],[1,"logo-container"],[1,"logo-placeholder"],[1,"form-default",3,"formGroup","submit"],["lines","none",1,"item-card-list"],["color","tertiary","position","stacked"],["formControlName","firstname","type","text","autocomplete","off","placeholder","Your first name"],["color","danger",4,"ngIf"],["formControlName","lastname","type","text","autocomplete","off","placeholder","Your last name"],["formControlName","email","type","email","autocomplete","off","placeholder","Your email address"],["formControlName","username","type","text","autocomplete","off","placeholder","Your username"],["formControlName","phone","type","tel","autocomplete","off","placeholder","Your phone number"],[1,"ion-margin-top-small"],["formControlName","password","type","password","placeholder","Your password"],["formControlName","password_confirmation","type","password","placeholder","Password repeat"],["formControlName","referral_code","type","text","autocomplete","off","placeholder","Your referral code (Optional)"],["type","submit","expand","block","color","primary",1,"ion-margin-top",3,"disabled"],[1,"ion-text-center","ion-margin-top"],["color","medium"],["color","danger"],[1,"error-message-form"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA()()(),e.TgZ(4,"ion-content")(5,"div",3)(6,"div",4)(7,"h1",5),e._uU(8,"PayPaddi"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"Create a free account."),e.qZA()(),e.TgZ(11,"form",6),e.NdJ("submit",function(){return o.signUp()}),e.TgZ(12,"ion-list",7)(13,"ion-item")(14,"ion-label",8),e._uU(15,"First Name"),e.qZA(),e._UZ(16,"ion-input",9),e.qZA(),e.YNc(17,h,3,0,"ion-text",10),e.TgZ(18,"ion-item")(19,"ion-label",8),e._uU(20,"Last Name"),e.qZA(),e._UZ(21,"ion-input",11),e.qZA(),e.YNc(22,v,3,0,"ion-text",10),e.TgZ(23,"ion-item")(24,"ion-label",8),e._uU(25,"Email"),e.qZA(),e._UZ(26,"ion-input",12),e.qZA(),e.YNc(27,P,3,0,"ion-text",10),e.YNc(28,T,3,0,"ion-text",10),e.TgZ(29,"ion-item")(30,"ion-label",8),e._uU(31,"Username"),e.qZA(),e._UZ(32,"ion-input",13),e.qZA(),e.YNc(33,S,3,0,"ion-text",10),e.YNc(34,U,3,0,"ion-text",10),e.YNc(35,q,3,0,"ion-text",10),e.YNc(36,A,3,0,"ion-text",10),e.TgZ(37,"ion-item")(38,"ion-label",8),e._uU(39,"Phone number"),e.qZA(),e._UZ(40,"ion-input",14),e.qZA(),e.YNc(41,I,3,0,"ion-text",10),e.YNc(42,x,3,0,"ion-text",10),e.YNc(43,y,3,0,"ion-text",10),e.TgZ(44,"ion-item",15)(45,"ion-label",8),e._uU(46,"Password"),e.qZA(),e._UZ(47,"ion-input",16),e.qZA(),e.YNc(48,w,3,0,"ion-text",10),e.YNc(49,Y,3,0,"ion-text",10),e.YNc(50,C,3,0,"ion-text",10),e.TgZ(51,"ion-item",15)(52,"ion-label",8),e._uU(53,"Password repeat"),e.qZA(),e._UZ(54,"ion-input",17),e.qZA(),e.YNc(55,N,3,0,"ion-text",10),e.YNc(56,E,3,0,"ion-text",10),e.TgZ(57,"ion-item")(58,"ion-label",8),e._uU(59,"Referral code"),e.qZA(),e._UZ(60,"ion-input",18),e.qZA()(),e.TgZ(61,"ion-button",19),e._uU(62," Sign up free "),e.qZA()(),e.TgZ(63,"div",20)(64,"ion-text",21)(65,"small"),e._uU(66),e.qZA()()()()()),2&n&&(e.xp6(11),e.Q6J("formGroup",o.signup_form),e.xp6(6),e.Q6J("ngIf",o.signup_form.controls.firstname.errors&&o.signup_form.controls.firstname.errors.required&&o.signup_form.controls.firstname.touched),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.lastname.errors&&o.signup_form.controls.lastname.errors.required&&o.signup_form.controls.lastname.touched),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.email.errors&&o.signup_form.controls.email.errors.required&&o.signup_form.controls.email.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.email.errors&&o.signup_form.controls.email.errors.email&&o.signup_form.controls.email.touched),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.username.errors&&o.signup_form.controls.username.errors.required&&o.signup_form.controls.username.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.username.errors&&o.signup_form.controls.username.errors.minlength&&o.signup_form.controls.username.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.username.dirty&&o.containsSpecialChars(o.signup_form.value.username)),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.username.dirty&&o.hasWhiteSpace(o.signup_form.value.username)),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.phone.errors&&o.signup_form.controls.phone.errors.required&&o.signup_form.controls.phone.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.phone.errors&&o.signup_form.controls.phone.errors.minlength&&o.signup_form.controls.phone.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.phone.errors&&o.signup_form.controls.phone.errors.maxlength&&o.signup_form.controls.phone.touched),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.password.errors&&o.signup_form.controls.password.errors.required&&o.signup_form.controls.password.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.password.errors&&o.signup_form.controls.password.errors.minlength&&o.signup_form.controls.password.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.password.dirty&&!o.passwordStrength(o.signup_form.value.password)),e.xp6(5),e.Q6J("ngIf",o.signup_form.controls.password_confirmation.errors&&o.signup_form.controls.password_confirmation.errors.required&&o.signup_form.controls.password_confirmation.touched),e.xp6(1),e.Q6J("ngIf",o.signup_form.controls.password_confirmation.dirty&&!o.passwordMatch(o.signup_form.value.password_confirmation)),e.xp6(5),e.Q6J("disabled",o.error||o.signup_form.invalid),e.xp6(5),e.hij("\xa9 ",o.current_year," PayPaddi"))},dependencies:[p.O5,t._Y,t.JJ,t.JL,a.oU,a.YG,a.Sm,a.W2,a.Gu,a.pK,a.Ie,a.Q$,a.q_,a.yW,a.sr,a.j9,a.cs,t.sg,t.u],styles:[".mt-30[_ngcontent-%COMP%]{margin-top:30px}"]}),r})()}];let M=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(J),g.Bz]}),r})(),Q=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,t.u5,a.Pc,M,t.UX]}),r})()},1228:(Z,c,i)=>{i.d(c,{e:()=>f});var p=i(655),t=i(65),a=i(2096),g=i(1493),d=i(7913),e=i(8052);let f=(()=>{class m{constructor(l,h,v){this.router=l,this.util=h,this.req=v}getSession(){return(0,p.mG)(this,void 0,void 0,function*(){return!1})}signIn(l){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.req.axiosPost("login",l)})}signUp(l){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.req.axiosPost("register",l)})}updatePin(l){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.req.axiosPost("update/pin",l)})}changePassword(l){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.req.axiosPost("login",l)})}signOut(){return(0,p.mG)(this,void 0,void 0,function*(){yield t.u.remove({key:"accessToken"}),this.router.navigateByUrl("/signin")})}resetPassword(l){return(0,p.mG)(this,void 0,void 0,function*(){return yield this.req.axiosPost("password-reset",{email:l})})}}return m.\u0275fac=function(l){return new(l||m)(a.LFG(g.F0),a.LFG(d.t),a.LFG(e.s))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);