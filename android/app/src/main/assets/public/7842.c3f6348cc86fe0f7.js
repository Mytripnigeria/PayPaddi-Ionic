"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7842],{7842:(T,m,l)=>{l.r(m),l.d(m,{ReferralPageModule:()=>A});var h=l(9808),u=l(4182),b=l(5023),o=l(8779),y=l(1493),v=l(655),e=l(2096),S=l(649),s=l(9709);function f(i,p){if(1&i&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.referals.length)}}function t(i,p){1&i&&(e.TgZ(0,"h3"),e._UZ(1,"ion-skeleton-text",11),e.qZA())}function n(i,p){1&i&&(e.TgZ(0,"h3"),e._UZ(1,"ion-skeleton-text",11),e.qZA())}function a(i,p){if(1&i&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&i){const r=e.oxw();e.xp6(1),e.Oqu(r.referalCode)}}const C=[{path:"",component:(()=>{class i{constructor(r,d,g){this.toateService=r,this.userService=d,this.clipBoard=g,this.referalCode=null,this.fees=null}ngOnInit(){}ionViewWillEnter(){this.getCode(),this.getFees(),this.getReferrals(),this.getEarnings()}getCode(){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield this.userService.getReferralCode();r.error||r.result.data.error||(this.referalCode=r.result.data.data)})}getReferrals(){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield this.userService.getReferrals();r.error||r.result.data.error||(this.referals=r.result.data.data)})}getEarnings(){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield this.userService.getReferralEarnings();if(console.log(r),!r.error&&!r.result.data.error){const d=r.result.data.data;console.log({allRef:d});let g=0;for(let R=0;R<d.length;R++)g+=Number(d[R].amount);this.referalEarnings=g,console.log("earningss==>",this.referalEarnings)}})}copy(){this.clipBoard.copy(this.referalCode),this.toateService.presentToast("Copied","top","success","",2e3)}getFees(){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield this.userService.getUserFees();console.log(r),r.result&&(this.fees=r.result.data.referral)})}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(S.k),e.Y36(s.K),e.Y36(b.Yv))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-referral"]],decls:33,vars:10,consts:[["collapse","fade",3,"translucent"],["slot","start"],["text","Settings","defaultHref","/settings"],[3,"fullscreen"],[1,"ion-padding"],[1,"ion-list-header-small","mb-20"],["lines","full",1,"list-custom"],["detail","false","lines","none"],[4,"ngIf"],["slot","start","name","megaphone-outline"],["slot","end",1,"ios","button","button-small","button-solid","ion-activatable","ion-focusable","hydrated",3,"click"],["animated","",2,"width","50%"]],template:function(r,d){1&r&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5," Referrals "),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"div",4)(8,"ion-list-header",5)(9,"ion-label"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-list",6)(12,"ion-item",7)(13,"ion-label")(14,"p"),e._uU(15,"Referral Earnings"),e.qZA(),e.TgZ(16,"h3"),e._uU(17),e.ALo(18,"currency"),e.qZA()(),e.TgZ(19,"ion-label")(20,"p"),e._uU(21,"Referral Downlines"),e.qZA(),e.YNc(22,f,2,1,"h3",8),e.YNc(23,t,2,0,"h3",8),e.qZA()(),e.TgZ(24,"ion-item",7),e._UZ(25,"ion-icon",9),e.TgZ(26,"ion-label")(27,"p"),e._uU(28,"Referral Code"),e.qZA(),e.YNc(29,n,2,0,"h3",8),e.YNc(30,a,2,1,"h3",8),e.qZA(),e.TgZ(31,"ion-button",10),e.NdJ("click",function(){return d.copy()}),e._uU(32," Copy "),e.qZA()()()()()),2&r&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(4),e.hij("Share your referral code to your friends and family to earn \u20a6",d.fees," when they are signed up and verified."),e.xp6(7),e.hij("\u20a6",e.lcZ(18,8,d.referalEarnings),""),e.xp6(5),e.Q6J("ngIf",d.referals),e.xp6(1),e.Q6J("ngIf",!d.referals),e.xp6(6),e.Q6J("ngIf",!d.referalCode),e.xp6(1),e.Q6J("ngIf",d.referalCode))},dependencies:[h.O5,o.oU,o.YG,o.Sm,o.W2,o.Gu,o.gu,o.Ie,o.Q$,o.q_,o.yh,o.CK,o.wd,o.sr,o.cs,h.H9],styles:[".mb-20[_ngcontent-%COMP%]{margin-bottom:20px}"]}),i})()}];let x=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[y.Bz.forChild(C),y.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,u.u5,b.Iq,o.Pc,x]}),i})()},5023:(T,m,l)=>{l.d(m,{Iq:()=>S,Yv:()=>y});var h=l(9808),u=l(2096);const b=new u.OlP("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var o=l(5529);let y=(()=>{class s{constructor(t,n,a){this.ngZone=t,this.document=n,this.window=a,this.copySubject=new o.xQ,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const n=this.copyFromContent(t);return this.pushCopyResponse(n?{content:t,isSuccess:n}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,n=!0){try{this.selectTarget(t);const a=this.copyText();return this.clearSelection(n?t:void 0,this.window),a&&this.isCopySuccessInIE11()}catch(a){return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,n=this.document.body){if(this.tempTextArea&&!n.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{n.appendChild(this.tempTextArea)}catch(c){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const a=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),a}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,n){var a;t&&t.focus(),null===(a=n.getSelection())||void 0===a||a.removeAllRanges()}createTempTextArea(t,n){const a="rtl"===t.documentElement.getAttribute("dir");let c;return c=t.createElement("textarea"),c.style.fontSize="12pt",c.style.border="0",c.style.padding="0",c.style.margin="0",c.style.position="absolute",c.style[a?"right":"left"]="-9999px",c.style.top=(n.pageYOffset||t.documentElement.scrollTop)+"px",c.setAttribute("readonly",""),c}pushCopyResponse(t){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(t)})}pushCopyReponse(t){this.pushCopyResponse(t)}}return s.\u0275fac=function(t){return new(t||s)(u.LFG(u.R0b),u.LFG(h.K0),u.LFG(b,8))},s.\u0275prov=u.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),S=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=u.oAB({type:s}),s.\u0275inj=u.cJS({imports:[[h.ez]]}),s})()}}]);